{% extends "base.html" %}

{% block title %}Implementation Effort Estimation{% endblock %}

{% block content %}

<body>

<h1>Implementation Effort Estimation</h1>

<form class="effort-form" method="post">

<div class="form-row">
<label>
Feature ID
<span class="info-icon">ⓘ
<span class="tooltip-text">
Unique feature identifier used for tracking and mapping predictions.
</span>
</span>
</label>
<input type="text" name="Feature_ID" required>
</div>

<div class="form-row">
<label>
Feature Name
<span class="info-icon">ⓘ
<span class="tooltip-text">
Descriptive name used in reporting and history.
</span>
</span>
</label>
<input type="text" name="Feature_Name" required>
</div>

{% macro number_field(name, label, tooltip="") %}
<div class="form-row">
<label>
{{ label }}
{% if tooltip %}
<span class="info-icon">ⓘ
<span class="tooltip-text">{{ tooltip }}</span>
</span>
{% endif %}
</label>
<input type="number" name="{{ name }}" required>
</div>
{% endmacro %}

{% macro select_field(name, label, options, tooltip="") %}
<div class="form-row">
<label>
{{ label }}
{% if tooltip %}
<span class="info-icon">ⓘ
<span class="tooltip-text">{{ tooltip }}</span>
</span>
{% endif %}
</label>
<select name="{{ name }}" required>
<option value="0">0</option>
{% for o in options %}
<option value="{{ o }}">{{ o }}</option>
{% endfor %}
</select>
</div>
{% endmacro %}

<h2 class="section-heading">Implementation Inputs</h2>

{{ number_field("I_No_of_UserStories","No of User Stories",
"More stories increase coding, unit testing, and validation effort.") }}

{{ select_field("I_Story_Complexity","Story Complexity",[1,2,3],
"Higher complexity increases coding and debugging time.") }}

{{ select_field("I_Design_Complexity","Design Complexity",[1,2,3],
"Complex design increases implementation difficulty.") }}

{{ select_field("I_Meta_Complexity","Meta Complexity",[1,2,3],
"META changes increase schema coding and regression testing effort.") }}

{{ number_field("I_Features_Impacted","Features Impacted",
"More impacted features increase integration and regression testing.") }}

{{ number_field("I_Files_Impacted","Files Impacted",
"More files increase coding, UT writing, and SCT effort.") }}

{{ number_field("I_Approx_LOC_Source","Approx LOC Source",
"Higher LOC increases development and debugging effort.") }}

{{ number_field("I_Approx_LOC_Test","Approx LOC Test",
"Test LOC adds UT and validation workload.") }}

{{ number_field("I_Approx_Code_Complexity","Approx Code Complexity",
"Higher complexity slows development and increases defect probability.") }}

{{ number_field("I_No_of_Interfaces_Impacted","No of Interfaces Impacted",
"Interface changes require integration and backward compatibility checks.") }}

{{ select_field("I_Interface_Complexity","Interface Complexity",[1,2,3],
"Complex APIs increase coding and testing effort.") }}

{{ number_field("I_Interfaces_Added","Interfaces Added",
"New interfaces require fresh coding and testing.") }}

{{ number_field("I_Interfaces_Updated","Interfaces Updated",
"Updated interfaces require regression validation.") }}

{{ number_field("I_Interfaces_Deleted","Interfaces Deleted",
"Deletion requires cleanup and regression verification.") }}

{{ select_field("I_Integration_Complexity","Integration Complexity",[1,2,3],
"Higher integration complexity increases SCT effort.") }}

{{ number_field("I_CrossComponent_Dependencies","Cross Component Dependencies",
"More dependencies increase coordination and testing effort.") }}

{{ select_field("I_OAM_Simulator_Change","OAM Simulator Change",[0,1],
"Simulator updates add significant validation effort.") }}

{{ number_field("I_UT_Count","UT Count",
"More UT cases increase validation effort.") }}

{{ number_field("I_PYSCT_Count","PYSCT Count",
"PYSCT testing adds high system-level effort.") }}

{{ number_field("I_New_Test_Cases","New Test Cases",
"More test cases increase implementation and execution effort.") }}

{{ select_field("I_Test_Case_Complexity","Test Case Complexity",[1,2,3],
"Complex test cases require deeper validation time.") }}

{{ number_field("I_Test_Coverage","Test Coverage",
"Higher coverage increases UT and SCT workload.") }}

{{ number_field("I_Legacy_Test_Coverage","Legacy Test Coverage",
"Maintaining legacy coverage adds regression effort.") }}

{{ select_field("I_ICFS_Design_Complexity","ICFS Design Complexity",[1,2,3],
"ICFS changes increase design and coding effort.") }}

{{ select_field("I_PM_impact","PM Impact",[0,1],
"Performance counter impact increases testing validation.") }}

{{ select_field("I_CM_impact","CM Impact",[0,1],
"Configuration changes increase coding and testing workload.") }}

{{ select_field("I_FM_impact","FM Impact",[0,1],
"Alarm flow changes increase coding and SCT effort.") }}

{{ select_field("I_Tech_Lead_Support","Tech Lead Support",[0,1],
"If required, increases implementation cycles due to architectural clarification.") }}

<div class="section-action">
<button class="primary-btn">Calculate Implementation</button>
</div>

{% if effort is not none %}
<div class="final-result">
Implementation Effort: <strong>{{ effort }} hrs</strong>
</div>
{% endif %}

</form>

<a href="/" class="history-link">← Back to Home</a>

</body>
{% endblock %}
